import { MdxMenu } from '@consta/stand';
import { LegendExampleText } from './examples/LegendExampleText';
import { LegendExampleSize } from './examples/LegendExampleSize';
import {
  LegendExampleType,
  LegendExampleTypeLine,
} from './examples/LegendExampleType';
import {
  LegendExampleDirectionRow,
  LegendExampleDirectionColumn,
} from './examples/LegendExampleDirection';

<MdxMenu>

- [Маркеры и подписи](#маркеры-и-подписи)
- [Расположение](#расположение)
- [Размер подписи](#размер-подписи)
- [Типы маркеров](#типы-маркеров)
- [Список свойств](#свойства)
- [Примеры использования](#примеры)

</MdxMenu>

## Маркеры и подписи

Список маркеров и подписей к ним задается в объекте `items`:

- в `getItemColor` указывается метод определения цвета маркера,
- в `getItemLabel` — метод-расшифровка, что значит на графике этот цвет.

Начните подпись с заглавной буквы, точка не нужна.

> Если хотите, чтобы цвета маркеров менялись вместе с темой, указывайте их с помощью переменных.

<LegendExampleText />

```tsx
<Legend
  direction="column"
  items={[
    {
      color: 'var(--color-bg-alert)',
      text: 'Эта линия красивая красная',
    },
    {
      color: 'var(--color-bg-normal)',
      text: 'Эта линия красивая синяя',
    },
    {
      color: 'var(--color-bg-warning)',
      text: 'Эта линия - вообще супер, и, кстати, она желтая',
    },
    {
      color: 'var(--color-bg-success)',
      text: 'Эта линия зеленая',
    },
  ]}
  getItemLabel={(item) => item.text}
  getItemColor={(item) => item.color}
  size="s"
  icon="dot"
/>
```

## Расположение

Пункты в легенде могут располагаться вертикально или горизонтально.
За расположение отвечает свойство `direction`.

Варианты:

- `'row'` — на одной строке, друг за другом (если не хватает места, то, что не влезает, переносится на новую строчку),
- `'column'` — в столбик, друг под другом.

| row                           | column                           |
| ----------------------------- | -------------------------------- |
| <LegendExampleDirectionRow /> | <LegendExampleDirectionColumn /> |

## Размер подписи

За размер подписи отвечает свойство `size`. Варианты: `'xs'`, `'s'`, `'m'`.

<LegendExampleSize />

```tsx
<Legend
  size="xs"
  items={[
    {
      color: 'var(--color-bg-alert)',
      text: 'Надпись XS',
    },
  ]}
  icon="dot"
  getItemLabel={(item) => item.text}
  getItemColor={(item) => item.color}
/>
```

## Типы маркеров

За тип маркеров отвечает свойство `icon`. Варианты: `'dot'`, `'line'`, `'lineBold'`, `'gap'`.
Вы также можете использовать в качестве маркера иконку, передав этому свойству значение иконки.

<LegendExampleType />

## Свойства

```tsx
type Icon = 'dot' | 'line' | 'lineBold' | 'gap' | React.FC<IconProps>;
```

| Свойство                      | Тип                      | По умолчанию | Описание                                                  |
| ----------------------------- | ------------------------ | ------------ | --------------------------------------------------------- |
| [`items`](#маркеры-и-подписи) | `Item[]`                 | -            | Объект с данными для легенды, цвет маркера и текст к нему |
| [`direction`](#расположение)  | `'column'`, `'row'`      | -            | Расположение легенды: в столбик или на одной строке.      |
| [`size`](#размер-подписи)     | `'xs',`'s'`,`'m'`        | -            | Размер подписи                                            |
| [`icon?`](#типы-маркеров)     | `Icon`                   | `'dot'`      | Тип маркера                                               |
| `title?`                      | `React.ReactNode`        | -            | Заголовок                                                 |
| `getItemLabel`                | `(item: Item) => string` | -            | Метод для получения текста к маркеру                      |
| `getItemColor`                | `(item: Item) => string` | -            | Метод для получения цвета маркера                         |
| `onItemMouseEnter?`           | `(item: Item) => void`   | -            | Действие при наведении курсора на элемент                 |
| `onItemMouseLeave?`           | `(item: Item) => void`   | -            | Действие при выходе курсора за границы элемента           |
| `onItemClick?`                | `(item: Item) => void`   | -            | Действие при клике на элемент                             |

## Примеры

```tsx
// src/App.ts
import React from 'react';
import { Legend } from '@consta/widgets/Legend';
const App = () => {
  return (
    <Legend
      items={[
        {
          color: 'var(--color-bg-alert)',
          text: 'Пункт раз',
        },
        {
          color: 'var(--color-bg-warning)',
          text: 'Пункт два',
        },
        {
          color: 'var(--color-bg-success)',
          text: 'Пункт три',
        },
      ]}
      direction="column"
      size="s"
      icon="dot"
      getItemLabel={(item) => item.text}
      getItemColor={(item) => item.color}
    />
  );
};
```
